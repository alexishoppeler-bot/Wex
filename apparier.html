<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Apparier â€“ Parcours</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --brand:#0f766e;
  --ok:#16a34a;
  --err:#dc2626;
  --bg:#0b1220;
  --panel:#111827;
  --text:#e5e7eb;
  --muted:#9ca3af;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  background:var(--bg);
  color:var(--text);
  font-family:Arial, sans-serif;
  display:flex;
  justify-content:center;
}

.container{
  width:100%;
  max-width:900px;
  padding:20px;
}

h1{text-align:center;margin-bottom:6px}
.consigne{text-align:center;color:var(--muted);margin-bottom:10px}

.global{
  background:var(--panel);
  padding:10px;
  margin-bottom:12px;
  border-radius:6px;
  text-align:center;
}

.progress{
  height:6px;
  background:#1f2937;
  margin-top:6px;
}
.progress-bar{
  height:100%;
  background:var(--brand);
  width:0%;
  transition:.3s;
}

.series-title{
  text-align:center;
  font-weight:bold;
  margin:10px 0;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.list h2{
  font-size:14px;
  color:var(--muted);
  margin-bottom:6px;
}

.item{
  background:#1f2937;
  padding:10px;
  margin-bottom:6px;
  cursor:pointer;
  user-select:none;
}

.item.selected{outline:2px solid var(--brand)}
.item.ok{background:rgba(22,163,74,.3)}
.item.err{
  background:rgba(220,38,38,.3);
  animation:shake .25s;
}

@keyframes shake{
  0%{transform:translateX(0)}
  50%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}

.lock{
  opacity:.4;
  pointer-events:none;
}

.end{
  display:none;
  text-align:center;
  margin-top:20px;
}

button{
  margin-top:10px;
  padding:10px 16px;
  background:var(--brand);
  border:none;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">

<h1>Apparier</h1>
<div class="consigne">Clique sur un mot, puis sur la bonne dÃ©finition.</div>

<div class="global">
  <div id="globalText"></div>
  <div class="progress">
    <div class="progress-bar" id="globalBar"></div>
  </div>
  <div id="rewards"></div>
</div>

<div class="series-title" id="seriesTitle"></div>

<div class="grid" id="exercise">
  <div class="list" id="mots"><h2>Mots</h2></div>
  <div class="list" id="defs"><h2>DÃ©finitions</h2></div>
</div>

<div class="end" id="end">
  <h2>Bravo, parcours terminÃ© ðŸŽ‰</h2>
  <button onclick="resetAll()">Recommencer</button>
</div>

</div>

<script>
/* =======================
   ðŸ”½ MODÃˆLES VISIBLES
   ======================= */
const series = [
  // ===== SÃ©rie 1 (A1) =====
  { titre:"SÃ©rie 1", data:[
    {id:1,mot:"Ponctuel",def:"Arriver Ã  lâ€™heure"},
    {id:2,mot:"Consigne",def:"Instruction Ã  respecter"},
    {id:3,mot:"Ã‰quipe",def:"Personnes qui travaillent ensemble"},
    {id:4,mot:"SÃ©curitÃ©",def:"RÃ¨gles pour Ã©viter les accidents"},
    {id:5,mot:"MatÃ©riel",def:"Objets utilisÃ©s pour le travail"}
  ]},

  // ===== SÃ©rie 2 =====
  { titre:"SÃ©rie 2", data:[
    {id:1,mot:"Pause",def:"Temps pour se reposer"},
    {id:2,mot:"Horaire",def:"Heures de travail"},
    {id:3,mot:"Chef",def:"Personne responsable"},
    {id:4,mot:"Nettoyer",def:"Rendre propre"},
    {id:5,mot:"Respect",def:"Suivre les rÃ¨gles"}
  ]},

  // ===== SÃ©rie 3 =====
  { titre:"SÃ©rie 3", data:[
    {id:1,mot:"Retard",def:"Arriver aprÃ¨s lâ€™heure"},
    {id:2,mot:"Absence",def:"Ne pas Ãªtre prÃ©sent"},
    {id:3,mot:"TÃ¢che",def:"Travail Ã  faire"},
    {id:4,mot:"Aide",def:"Soutien donnÃ© Ã  quelquâ€™un"},
    {id:5,mot:"Responsable",def:"Personne qui dÃ©cide"}
  ]},

  // ===== SÃ©rie 4 =====
  { titre:"SÃ©rie 4", data:[
    {id:1,mot:"Ordre",def:"Instruction donnÃ©e"},
    {id:2,mot:"Planning",def:"Organisation du temps"},
    {id:3,mot:"Erreur",def:"Action incorrecte"},
    {id:4,mot:"Attention",def:"Faire avec soin"},
    {id:5,mot:"Rangement",def:"Mettre en ordre"}
  ]},

  // ===== SÃ©rie 5 =====
  { titre:"SÃ©rie 5", data:[
    {id:1,mot:"Autonomie",def:"Travailler seul"},
    {id:2,mot:"CollÃ¨gue",def:"Personne qui travaille avec moi"},
    {id:3,mot:"Signalement",def:"Informer dâ€™un problÃ¨me"},
    {id:4,mot:"Organisation",def:"ManiÃ¨re de sâ€™organiser"},
    {id:5,mot:"QualitÃ©",def:"Bon niveau de travail"}
  ]},

  // ===== SÃ©rie 6 =====
  { titre:"SÃ©rie 6", data:[
    {id:1,mot:"PrioritÃ©",def:"Ce qui est le plus important"},
    {id:2,mot:"ContrÃ´le",def:"VÃ©rification du travail"},
    {id:3,mot:"ProcÃ©dure",def:"Ã‰tapes Ã  suivre"},
    {id:4,mot:"PrÃ©paration",def:"Action avant de commencer"},
    {id:5,mot:"Respecter",def:"Suivre correctement"}
  ]},

  // ===== SÃ©rie 7 =====
  { titre:"SÃ©rie 7", data:[
    {id:1,mot:"EfficacitÃ©",def:"Faire bien et vite"},
    {id:2,mot:"Concentration",def:"Faire attention longtemps"},
    {id:3,mot:"ConsÃ©quence",def:"RÃ©sultat dâ€™une action"},
    {id:4,mot:"Engagement",def:"Motivation au travail"},
    {id:5,mot:"FiabilitÃ©",def:"On peut compter sur la personne"}
  ]},

  // ===== SÃ©rie 8 =====
  { titre:"SÃ©rie 8", data:[
    {id:1,mot:"Initiative",def:"Agir sans attendre"},
    {id:2,mot:"AmÃ©lioration",def:"Rendre meilleur"},
    {id:3,mot:"Adaptation",def:"Changer selon la situation"},
    {id:4,mot:"ResponsabilitÃ©",def:"Devoir Ã  respecter"},
    {id:5,mot:"Collaboration",def:"Travailler ensemble"}
  ]},

  // ===== SÃ©rie 9 =====
  { titre:"SÃ©rie 9", data:[
    {id:1,mot:"Anticiper",def:"PrÃ©voir Ã  lâ€™avance"},
    {id:2,mot:"Objectif",def:"But Ã  atteindre"},
    {id:3,mot:"MÃ©thode",def:"FaÃ§on de travailler"},
    {id:4,mot:"Rigueur",def:"Grande prÃ©cision"},
    {id:5,mot:"Suivi",def:"VÃ©rification dans le temps"}
  ]},

  // ===== SÃ©rie 10 =====
  { titre:"SÃ©rie 10", data:[
    {id:1,mot:"Performance",def:"Bon rÃ©sultat"},
    {id:2,mot:"Professionnalisme",def:"Attitude correcte au travail"},
    {id:3,mot:"Implication",def:"Participation active"},
    {id:4,mot:"AmÃ©liorer",def:"Faire mieux"},
    {id:5,mot:"StabilitÃ©",def:"Rester constant"}
  ]},

  // ===== SÃ©rie 11 (A2+) =====
  { titre:"SÃ©rie 11", data:[
    {id:1,mot:"Communication",def:"Ã‰changer des informations"},
    {id:2,mot:"Consignes Ã©crites",def:"Instructions par Ã©crit"},
    {id:3,mot:"Organisation du poste",def:"ManiÃ¨re dâ€™installer son travail"},
    {id:4,mot:"SÃ©curitÃ© collective",def:"SÃ©curitÃ© pour tout le monde"},
    {id:5,mot:"Gestion du temps",def:"Bien utiliser le temps"}
  ]},

  // ===== SÃ©rie 12 =====
  { titre:"SÃ©rie 12", data:[
    {id:1,mot:"AutocontrÃ´le",def:"VÃ©rifier soi-mÃªme"},
    {id:2,mot:"RÃ©gularitÃ©",def:"Faire souvent correctement"},
    {id:3,mot:"DisponibilitÃ©",def:"ÃŠtre prÃªt Ã  aider"},
    {id:4,mot:"PonctualitÃ©",def:"Respect des horaires"},
    {id:5,mot:"Fiable",def:"Sur qui on peut compter"}
  ]},

  // ===== SÃ©rie 13 =====
  { titre:"SÃ©rie 13", data:[
    {id:1,mot:"RÃ©activitÃ©",def:"RÃ©pondre rapidement"},
    {id:2,mot:"SÃ©rieux",def:"Faire attention Ã  son travail"},
    {id:3,mot:"Engagement professionnel",def:"Motivation au travail"},
    {id:4,mot:"Organisation personnelle",def:"Bien se gÃ©rer"},
    {id:5,mot:"Respect mutuel",def:"Respect entre personnes"}
  ]},

  // ===== SÃ©rie 14 =====
  { titre:"SÃ©rie 14", data:[
    {id:1,mot:"Autonomie progressive",def:"De plus en plus seul"},
    {id:2,mot:"CapacitÃ© dâ€™adaptation",def:"Sâ€™adapter au changement"},
    {id:3,mot:"Esprit dâ€™Ã©quipe",def:"Bien travailler ensemble"},
    {id:4,mot:"PrÃ©cision",def:"Travail exact"},
    {id:5,mot:"ResponsabilitÃ©s",def:"Devoirs Ã  respecter"}
  ]},

  // ===== SÃ©rie 15 =====
  { titre:"SÃ©rie 15", data:[
    {id:1,mot:"Planification",def:"Organisation Ã  lâ€™avance"},
    {id:2,mot:"Priorisation",def:"Choisir lâ€™ordre important"},
    {id:3,mot:"QualitÃ© du travail",def:"Niveau du travail"},
    {id:4,mot:"SÃ©curitÃ© au travail",def:"Protection au travail"},
    {id:5,mot:"Respect des dÃ©lais",def:"Finir Ã  temps"}
  ]},

  // ===== SÃ©rie 16 =====
  { titre:"SÃ©rie 16", data:[
    {id:1,mot:"Autonomie professionnelle",def:"Travailler seul correctement"},
    {id:2,mot:"Organisation efficace",def:"Organisation qui fonctionne"},
    {id:3,mot:"Gestion des prioritÃ©s",def:"Choisir lâ€™important"},
    {id:4,mot:"ResponsabilitÃ© individuelle",def:"ResponsabilitÃ© personnelle"},
    {id:5,mot:"Implication durable",def:"Engagement sur le temps"}
  ]},

  // ===== SÃ©rie 17 =====
  { titre:"SÃ©rie 17", data:[
    {id:1,mot:"AmÃ©lioration continue",def:"Sâ€™amÃ©liorer toujours"},
    {id:2,mot:"Respect des procÃ©dures",def:"Suivre les rÃ¨gles"},
    {id:3,mot:"QualitÃ© constante",def:"Toujours bien travailler"},
    {id:4,mot:"Autonomie complÃ¨te",def:"Travailler seul"},
    {id:5,mot:"FiabilitÃ© professionnelle",def:"Confiance au travail"}
  ]},

  // ===== SÃ©rie 18 =====
  { titre:"SÃ©rie 18", data:[
    {id:1,mot:"Organisation optimale",def:"TrÃ¨s bonne organisation"},
    {id:2,mot:"Professionnel",def:"Comportement sÃ©rieux"},
    {id:3,mot:"Responsable du poste",def:"Personne en charge"},
    {id:4,mot:"Respect des normes",def:"Suivre les rÃ¨gles"},
    {id:5,mot:"Performance durable",def:"Bon travail dans le temps"}
  ]},

  // ===== SÃ©rie 19 =====
  { titre:"SÃ©rie 19", data:[
    {id:1,mot:"Engagement constant",def:"Motivation continue"},
    {id:2,mot:"Autonomie avancÃ©e",def:"Travail trÃ¨s indÃ©pendant"},
    {id:3,mot:"Organisation stratÃ©gique",def:"Organisation rÃ©flÃ©chie"},
    {id:4,mot:"EfficacitÃ© professionnelle",def:"Travail rapide et correct"},
    {id:5,mot:"QualitÃ© professionnelle",def:"TrÃ¨s bon niveau de travail"}
  ]},

  // ===== SÃ©rie 20 (B1) =====
  { titre:"SÃ©rie 20", data:[
    {id:1,mot:"Professionnalisme constant",def:"Bon comportement toujours"},
    {id:2,mot:"ResponsabilitÃ© professionnelle",def:"Assumer son travail"},
    {id:3,mot:"Autonomie totale",def:"Travailler seul sans aide"},
    {id:4,mot:"Performance professionnelle",def:"TrÃ¨s bon rÃ©sultat"},
    {id:5,mot:"Engagement durable",def:"Motivation sur le long terme"}
  ]}
];


let serieIndex = Number(localStorage.getItem("serieIndex")) || 0;
let done = [];
let selectedMot = null;

const motsCol = document.getElementById("mots");
const defsCol = document.getElementById("defs");

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

function render(){
  if(serieIndex >= series.length){
    document.getElementById("exercise").style.display="none";
    document.getElementById("end").style.display="block";
    return;
  }

  const s = series[serieIndex];
  document.getElementById("seriesTitle").textContent = s.titre;

  motsCol.innerHTML="<h2>Mots</h2>";
  defsCol.innerHTML="<h2>DÃ©finitions</h2>";

  shuffle([...s.data]).forEach(o=>{
    const d=document.createElement("div");
    d.className="item";
    d.textContent=o.mot;
    d.dataset.id=o.id;
    d.onclick=()=>selectMot(d);
    motsCol.appendChild(d);
  });

  shuffle([...s.data]).forEach(o=>{
    const d=document.createElement("div");
    d.className="item";
    d.textContent=o.def;
    d.dataset.id=o.id;
    d.onclick=()=>selectDef(d);
    defsCol.appendChild(d);
  });

  updateGlobal();
}

function selectMot(el){
  document.querySelectorAll("#mots .item").forEach(i=>i.classList.remove("selected"));
  el.classList.add("selected");
  selectedMot = el;
}

function selectDef(el){
  if(!selectedMot) return;

  if(el.dataset.id === selectedMot.dataset.id){
    el.classList.add("ok");
    selectedMot.classList.add("ok");
    done.push(el.dataset.id);
    selectedMot=null;

    if(done.length === 5){
      serieIndex++;
      done=[];
      localStorage.setItem("serieIndex", serieIndex);
      setTimeout(render,400);
    }
  }else{
    el.classList.add("err");
    setTimeout(()=>el.classList.remove("err"),300);
    selectedMot=null;
  }
}

function updateGlobal(){
  const total = series.length;
  const percent = (serieIndex / total) * 100;
  document.getElementById("globalBar").style.width = percent+"%";

  let stars = "â­".repeat(Math.floor(serieIndex/10));
  let medal = serieIndex>=100?"ðŸ¥‡":serieIndex>=50?"ðŸ¥ˆ":serieIndex>=25?"ðŸ¥‰":"";

  document.getElementById("globalText").textContent =
    `Progression globale : ${serieIndex} / ${total} sÃ©ries`;

  document.getElementById("rewards").textContent =
    `${stars} ${medal}`;
}

function resetAll(){
  localStorage.clear();
  location.reload();
}

render();
</script>
</body>
</html>

